{% extends 'base.html' %}
{% block content %}
<h2>Book a Service</h2>
{% if message %}
<div class="alert">{{ message }}</div>
{% endif %}
<form method="post" action="/customer/book" class="form-card">
    <label>Vehicle</label>
    <select name="vehicle_id" required>
        <option value="">-- Select Vehicle --</option>
        {% for v in vehicles %}
        <option value="{{ v.vehicle_id }}">{{ v.vehicle_number }} ({{ v.brand }} {{ v.model }})</option>
        {% endfor %}
    </select>
    <label>Service</label>
    <select name="service_id" required>
        <option value="">-- Select Service --</option>
        {% for s in services %}
        <option value="{{ s.service_id }}">{{ s.service_name }} ({{ s.base_price }})</option>
        {% endfor %}
    </select>
    <label>Time Slot</label>
    <select name="slot_id" required>
        <option value="">-- Select Slot --</option>
        {% for t in slots %}
        <option value="{{ t.slot_id }}">{{ t.slot_date }} {{ t.start_time }} - {{ t.end_time }}</option>
        {% endfor %}
    </select>
    <button type="submit">Confirm Booking</button>
</form>
{% if not vehicles %}
<p><strong>Note:</strong> You must add at least one vehicle before booking.</p>
{% endif %}
{% endblock %}
